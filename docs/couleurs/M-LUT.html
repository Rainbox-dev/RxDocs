<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <meta name="author" content="Nicolas Dufresne and contributors">
  <link rel="shortcut icon" href="img/favicon.ico">
  <title>M - Les LUTs - RxDocs - Gestion des couleurs</title>
  <link rel="stylesheet" href="css/theme.css" type="text/css" />
  <link rel="stylesheet" href="css/theme_extra.css" type="text/css" />
  <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css">
  <link href="style.css" rel="stylesheet">
  <link href="video.css" rel="stylesheet">
  
  <script>
    // Current page data
    var mkdocs_page_name = "M - Les LUTs";
    var mkdocs_page_input_path = "M-LUT.md";
    var mkdocs_page_url = "/couleurs/M-LUT.html";
  </script>
  
  <script src="js/jquery-2.1.1.min.js" defer></script>
  <script src="js/modernizr-2.8.3.min.js" defer></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
  <script>hljs.initHighlightingOnLoad();</script> 
  
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
      <div class="wy-side-nav-search">
        <a href="." class="icon icon-home"> RxDocs - Gestion des couleurs</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="./search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
	<ul class="current">
	  
          
            <li class="toctree-l1">
		
    <span class="caption-text">Gestion des couleurs</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="index.html">Introduction</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">La Théorie</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="A-definition.html">A - Qu'est ce que la couleur ?</a>
                </li>
                <li class="">
                    
    <a class="" href="B-inventaire.html">B - Petit inventaire et classification des couleurs</a>
                </li>
                <li class="">
                    
    <a class="" href="C-perception.html">C - Perception des couleurs</a>
                </li>
                <li class="">
                    
    <a class="" href="D-reproduction.html">D - Reproduction des couleurs</a>
                </li>
                <li class="">
                    
    <a class="" href="E-temperature.html">E - Retour sur les blancs, température</a>
                </li>
                <li class="">
                    
    <a class="" href="F-representation.html">F - Représentation objective</a>
                </li>
                <li class="">
                    
    <a class="" href="G-numerisation.html">G - Du réel au numérique</a>
                </li>
                <li class="">
                    
    <a class="" href="H-espace-colo.html">H - Qu'est ce qu'un espace colo ?</a>
                </li>
                <li class="">
                    
    <a class="" href="I-liste-espaces.html">I - Liste d'espaces colorimétriques</a>
                </li>
                <li class="">
                    
    <a class="" href="J-liste-params.html">J - Liste des paramètres d'espaces colorimétriques</a>
                </li>
                <li class="">
                    
    <a class="" href="K-pix-format.html">K - Format des pixels</a>
                </li>
                <li class="">
                    
    <a class="" href="L-transfert.html">L - Courbes de transfert, espace linéaire et gamma</a>
                </li>
                <li class=" current">
                    
    <a class="current" href="M-LUT.html">M - Les LUTs</a>
    <ul class="subnav">
            
    <li class="toctree-l3"><a href="#les-luts">Les LUTs</a></li>
    
        <ul>
        
            <li><a class="toctree-l4" href="#m1-description">M.1 - Description</a></li>
        
            <li><a class="toctree-l4" href="#m2-utilisation">M.2 - Utilisation</a></li>
        
        </ul>
    

    </ul>
                </li>
                <li class="">
                    
    <a class="" href="N-ocio.html">N - OCIO, ACES</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">La pratique</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href=".">A - Choisir ses espaces colorimétriques et formats</a>
                </li>
                <li class="">
                    
    <a class="" href=".">B - Calibration des écrans et leurs espaces colorimétriques</a>
                </li>
                <li class="">
                    
    <a class="" href=".">C - Adobe After Effects</a>
                </li>
                <li class="">
                    
    <a class="" href=".">D - Blender</a>
                </li>
                <li class="">
                    
    <a class="" href=".">E - DuME</a>
                </li>
                <li class="">
                    
    <a class="" href=".">F - Adobe Media Encoder</a>
                </li>
                <li class="">
                    
    <a class="" href=".">G - Krita</a>
                </li>
                <li class="">
                    
    <a class="" href=".">H - Darktable</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">Annexes</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="ZZ-vocabulaire.html">Glossaire</a>
                </li>
                <li class="">
                    
    <a class="" href="ZZ-english.html">Dictionnaire français - anglais</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="http://docs.rainboxlab.org">Tous les documents RxLab</a>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="http://docs.rainboxlab.org/contribute.html">Contribuer à la rédaction</a>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="https://rainboxlab.org/about/contact/">Contact</a>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="https://rainboxlab.org/about/donate/">Donate</a>
	    </li>
          
        </ul>
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href=".">RxDocs - Gestion des couleurs</a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href=".">Docs</a> &raquo;</li>
    
      
        
          <li>La Théorie &raquo;</li>
        
      
    
    <li>M - Les LUTs</li>
    <li class="wy-breadcrumbs-aside">
      
        <a href="https://github.com/Rainbox-dev/RxDocs/edit/master/src-couleurs/docs/M-LUT.md"
          class="icon icon-github"> Edit on GitHub</a>
      
    </li>
  </ul>
  <hr/>
</div>
          <div role="main">
            <div class="section">
              
                <h1 id="les-luts">Les LUTs<a class="headerlink" href="#les-luts" title="Permanent link">&para;</a></h1>
<p>L&rsquo;acronyme anglais <em>LUT</em> vient de <em>Lookup Table</em>, <em>Table de correspondance</em> en français.</p>
<div class="toc">
<ul>
<li><a href="#les-luts">Les LUTs</a><ul>
<li><a href="#m1-description">M.1 - Description</a></li>
<li><a href="#m2-utilisation">M.2 - Utilisation</a></li>
</ul>
</li>
</ul>
</div>
<h2 id="m1-description">M.1 - Description<a class="headerlink" href="#m1-description" title="Permanent link">&para;</a></h2>
<p>Comme son nom l&rsquo;indique, c&rsquo;est un simple tableau de valeurs, permettant de faire correspondre à certaines valeurs en entrée d&rsquo;autres valeurs en sortie. En informatique, c&rsquo;est un moyen pratique de remplacer des fonctions mathématiques complexes, résultat de calculs qui prennent du temps, par une simple recherche dans le tableau, ce qui peut grandement améliorer les performances : au lieu d&rsquo;avoir à recalculer, on a déjà les résultats en mémoire.</p>
<p>On en garde l&rsquo;usage en couleurs ; c&rsquo;est un moyen simple de faire correspondre à une couleur en entrée une couleur différente en sortie : c&rsquo;est donc un tableau qui permet de retoucher les couleurs ou bien convertir des espaces colorimétriques, en les décrivant, couleur par couleur.</p>
<p>Le principal intérêt d&rsquo;une <em>LUT</em> est que n&rsquo;importe quel programme peut facilement les utiliser et donc convertir depuis et vers des espaces colorimétriques qui ne sont pas prévus à la base par le programme ; au lieu d&rsquo;avoir à &ldquo;connaitre&rdquo; les fonctions mathématiques qui définissent un espace de couleurs (notamment la courbe de transfert), le programme n&rsquo;a qu&rsquo;à lire les résultats dans la <em>table de correspondance</em> sans avoir à en effectuer le calcul. C&rsquo;est un usage <em>utilitaire</em>, de conversion.</p>
<p>Elles sont aussi un moyen de &ldquo;sauvegarder&rdquo; n&rsquo;importe quelle retouche colorimétrique ; même si une retouche est faite en utilisant de multiples effets dans une application (niveaux, courbes, saturation&hellip;), on peut la décrire et sauvegarder comme une seule <em>LUT</em> et ainsi réappliquer la même retouche facilement, et dans <em>n&rsquo;importe quelle application</em> capable de lire une <em>LUT</em>. Dans ce cas, c&rsquo;est un usage <em>artistique</em> et pratique.</p>
<p>Voici un exemple de quelques lignes de valeurs d&rsquo;une <em>LUT</em>, qui n&rsquo;est en réalité qu&rsquo;un fichier texte contenant ce genre de tableau de valeurs :</p>
<table>
<thead>
<tr>
<th>R</th>
<th>G</th>
<th>B</th>
</tr>
</thead>
<tbody>
<tr>
<td>0</td>
<td>0</td>
<td>0</td>
</tr>
<tr>
<td>0</td>
<td>0</td>
<td>298</td>
</tr>
<tr>
<td>0</td>
<td>0</td>
<td>596</td>
</tr>
<tr>
<td>0</td>
<td>0</td>
<td>894</td>
</tr>
<tr>
<td>0</td>
<td>351</td>
<td>0</td>
</tr>
<tr>
<td>0</td>
<td>326</td>
<td>260</td>
</tr>
<tr>
<td>0</td>
<td>302</td>
<td>558</td>
</tr>
<tr>
<td>0</td>
<td>278</td>
<td>856</td>
</tr>
<tr>
<td>381</td>
<td>3784</td>
<td>0</td>
</tr>
<tr>
<td>282</td>
<td>3760</td>
<td>0</td>
</tr>
<tr>
<td>184</td>
<td>3736</td>
<td>117</td>
</tr>
<tr>
<td>85</td>
<td>3712</td>
<td>415</td>
</tr>
</tbody>
</table>
<p>Une <em>LUT</em> ne décrit donc pas <em>toutes</em> les correspondances de couleurs possibles, mais bien une sélection de couleurs ; pour obtenir une couleur qui n&rsquo;est pas dans la table, il faut donc effectuer une <em>interpolation</em>. Normalement, l&rsquo;application utilisant la <em>LUT</em> propose differente interpolations qui vont changer la manière dont ces couleurs sont obtenues (par arrondi, interpolation linéaire, etc.).</p>
<p>La quantité de valeurs contenues dans une <em>LUT</em> est donc très importante pour la qualité de l&rsquo;image en sortie : n&rsquo;étant qu&rsquo;une table de valeurs limitées, il peut y avoir une perte lors de la conversion et le résultat peut plus ou moins différer par rapport à une vraie opération mathématique. Cela étant dit, la différence n&rsquo;est pas discernable dans le cas des <em>LUT</em> avec beaucoup de valeurs, comme celles utilisées par <em>OCIO + ACES</em> pour ses conversions par exemple. <em>Cf.</em> Chapitre <em><a href="N-ocio.html">N - OCIO, ACES</a></em>.</p>
<h2 id="m2-utilisation">M.2 - Utilisation<a class="headerlink" href="#m2-utilisation" title="Permanent link">&para;</a></h2>
<p>Il existe de nombreux formats de fichiers différents pour les <em>LUT</em>, dépendant des applications, des développpeurs, etc. Voici quelques exemples (formats supportés par <em><a href="http://ffmpeg.org">FFmpeg</a></em>) :</p>
<table>
<thead>
<tr>
<th>Extension</th>
<th>Nom, éditeur, application&hellip;</th>
</tr>
</thead>
<tbody>
<tr>
<td><em>3dl</em></td>
<td>Discreet / After Effects / Autodesk</td>
</tr>
<tr>
<td><em>cube</em></td>
<td>Iridas / Resolve</td>
</tr>
<tr>
<td><em>dat</em></td>
<td>DaVinci</td>
</tr>
<tr>
<td><em>m3d</em></td>
<td>Pandora</td>
</tr>
<tr>
<td><em>csp</em></td>
<td>cineSpace</td>
</tr>
<tr>
<td><em>spi1d</em>, <em>spi3d</em></td>
<td>Sony Pictures</td>
</tr>
</tbody>
</table>
<p>Il peut être utile utile de convertir entre différents formats de <em>LUT</em> ; <em><a href="N-ocio.html">OCIO</a></em> inclue un outil de conversion en ligne de commande, pour lequel l&rsquo;encodeur de médias <em><a href="https://rainboxlab.org/tools/dume/">DuME</a></em> propose une interface graphique.</p>
<p>Il y a deux types principaux de <em>LUT</em> : les <strong><em>LUT 1D</em></strong> et les <strong><em>LUT 3D</em></strong>.</p>
<ul>
<li><strong>LUT 1D</strong></li>
</ul>
<p><img alt="1D LUT" src="img/1d-lut.svg" /></p>
<p>Les <em>LUT 1D</em> ne travaillent que sur la <em>luminance</em> et ne modifient pas les couleurs. N&rsquo;ayant qu&rsquo;une dimension, elles sont plus légères et plus simples que les <em>LUT 3D</em> et sont utiles pour les conversions de <em>gamma<a href="ZZ-vocabulaire.html">*</a></em>, par exemple entre deux espaces colorimétriques qui auraient par ailleurs les mêmes <em>primaires<a href="ZZ-vocabulaire.html">*</a></em>. <em>Cf.</em> chapitre <em><a href="L-transfert.html">L - Courbes de transfert, espace linéaire et gamma</a></em>.</p>
<ul>
<li><strong>LUT 3D</strong></li>
</ul>
<p><img alt="3D LUT" src="img/3d-lut.svg" /></p>
<p>Les <em>LUT 3D</em> travaillent sur les trois couches rouge, verte et bleue. Elles permettent donc une retouche détaillée à la fois de la luminance et des teintes autant que de la saturation. Elle permettent des effets artistiques aussi bien que des conversions depuis et vers n&rsquo;importe quel espace colorimétrique.</p>
<p>Quel que soit le type de <em>LUT</em>, ces tables de conversions n&rsquo;offrant qu&rsquo;une simple correspondance de valeur, <strong>chaque <em>LUT</em> est conçue pour un espace et des couleurs précises en entrée</strong> et <strong>ne peut pas être utilisée indifféremment sur n&rsquo;importe quelle image</strong> !</p>
<p>Par exemple, une <em>LUT</em> qui convertit vers l&rsquo;espace colorimétrique <em>Rec.2020</em> est <strong>forcément</strong> prévue pour être appliquée sur une image d&rsquo;un autre espace colorimétrique précis, par exemple <em>Rec.709</em> ; dans cet exemple, elle <strong>ne peut pas</strong> être utilisée sur une image <em>sRGB</em>, à moins de l&rsquo;avoir préalablement convertie vers <em>Rec.709</em>.</p>
<p>C&rsquo;est valable aussi pour les <em>LUT</em> à usage artistique et non pas utilitaire. Il faut savoir sur quel espace et quel type d&rsquo;image chaque <em>LUT</em> est censée être appliquée. Suivant les applications, le choix de l&rsquo;espace de travail est donc important en cas d&rsquo;usage de <em>LUT</em>, ou en tout cas il faut en avoir conscience pour éventuellement effectuer des conversions préalables à l&rsquo;usage de <em>LUT</em> (ce qui fait qu&rsquo;elles ne sont pas si simples qu&rsquo;elles en ont l&rsquo;air).</p>
<hr />
<p>Sources et références</p>
<ul>
<li><a href="https://fr.wikipedia.org/wiki/Table_de_correspondance">Table de correspondance sur <em>Wikipedia</em></a></li>
<li><a href="https://affinityspotlight.com/article/1d-vs-3d-luts/">1D vs 3D LUTs by James Ritson on <em>Affinity Spotlight</em> (en anglais)</a><sup id="fnref:1"><a class="footnote-ref" href="#fn:1">1</a></sup></li>
</ul>
<p><img alt="META" src="authors:Nicolas &quot;Duduf&quot; Dufresne;license:CC-BY-NC-SA;copyright:2021;updated:2021/04/03" /></p>
<div class="footnote">
<hr />
<ol>
<li id="fn:1">
<p>Attention, sa conclusion comporte une erreur. Dans l&rsquo;article, James Ritson explique qu&rsquo;une <em>LUT 1D</em> peut être utilisée pour convertir une image de <em>Rec.2020</em> à <em>Rec.709</em>, ce qui est faux puisque les <em>primaires<a href="ZZ-vocabulaire.html">*</a></em> des deux espaces sont différentes, et non pas juste la <em>courbe de transfert<a href="ZZ-vocabulaire.html">*</a></em>. Il faut alors utiliser une <em>LUT 3D</em>. Par contre la conversion de <em>Rec.709</em> à <em>sRGB</em> est bien possible avec une <em>LUT 1D</em> puisque seule la <em>courbe de transfert</em> est différente.&#160;<a class="footnote-backref" href="#fnref:1" title="Jump back to footnote 1 in the text">&#8617;</a></p>
</li>
</ol>
</div>
              
            </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="N-ocio.html" class="btn btn-neutral float-right" title="N - OCIO, ACES">Next <span class="icon icon-circle-arrow-right"></span></a>
      
      
        <a href="L-transfert.html" class="btn btn-neutral" title="L - Courbes de transfert, espace linéaire et gamma"><span class="icon icon-circle-arrow-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
      <p>Copyright © 2020-2021 <a href="https://rainboxlagb.org">Rainbox Laboratory</a>, <a href="https://duduf.com">Nicolas Dufresne</a> and contributors</p>
    
  </div>

  Built with <a href="http://www.mkdocs.org">MkDocs</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
      
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" style="cursor: pointer">
    <span class="rst-current-version" data-toggle="rst-current-version">
      
          <a href="https://github.com/Rainbox-dev/RxDocs/" class="fa fa-github" style="float: left; color: #fcfcfc"> GitHub</a>
      
      
        <span><a href="L-transfert.html" style="color: #fcfcfc;">&laquo; Previous</a></span>
      
      
        <span style="margin-left: 15px"><a href="N-ocio.html" style="color: #fcfcfc">Next &raquo;</a></span>
      
    </span>
</div>
    <script>var base_url = '.';</script>
    <script src="js/theme.js" defer></script>
      <script src="video.js" defer></script>
      <script src="meta.js" defer></script>
      <script src="search/main.js" defer></script>

</body>
</html>
